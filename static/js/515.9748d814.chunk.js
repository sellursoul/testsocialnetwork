"use strict";(self.webpackChunkreactproj=self.webpackChunkreactproj||[]).push([[515],{7515:function(e,t,s){s.r(t),s.d(t,{default:function(){return B}});var r=s(5671),o=s(3144),i=s(136),n=s(516),a=s(8683),l=s(2791),u=s(885),c={mainPhoto:"ProfileInfo_mainPhoto__efJvb",contact:"ProfileInfo_contact__3gFIn",formSummaryError:"ProfileInfo_formSummaryError__lb9Ep"},d=s(321),A=s(184),h=function(e){var t=(0,l.useState)(!1),s=(0,u.Z)(t,2),r=s[0],o=s[1],i=(0,l.useState)(e.status),n=(0,u.Z)(i,2),a=n[0],c=n[1];(0,l.useEffect)((function(){c(e.status)}),[e.status]);return(0,A.jsxs)("div",{children:[!r&&(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"Status: "}),(0,A.jsx)("span",{onDoubleClick:function(){o(!0)},children:e.status||"No status"})]}),r&&(0,A.jsx)("div",{children:(0,A.jsx)("input",{autoFocus:!0,onBlur:function(){o(!1),e.updateStatus(a)},onChange:function(e){c(e.currentTarget.value)},value:a})})]})},f=s(8055),p=s(1074),j=s(704),x=(0,j.Z)({form:"edit-profile"})((function(e){var t=e.handleSubmit,s=e.profile,r=e.error;return(0,A.jsxs)("form",{onSubmit:t,children:[(0,A.jsx)("div",{children:(0,A.jsx)("button",{children:"Save"})}),r&&(0,A.jsxs)("div",{className:c.formSummaryError,children:[r,";"]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"Full name:"})," ",(0,p.Gr)("Full name","fullname",[],p.II)]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"Looking for a job:"}),(0,p.Gr)("","lookingForAJob",[],p.II,{type:"checkbox"})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"My professional skills:"}),(0,p.Gr)("My professional skills","lookingForAJobDescription",[],p.eL)]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"About me:"}),(0,p.Gr)("About me","aboutMe",[],p.eL)]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"Contacts: "})," ",Object.keys(s.contacts).map((function(e){return(0,A.jsx)("div",{className:c.contact,children:(0,A.jsxs)("b",{children:[e,": ",(0,p.Gr)(e,"contacts."+e,[],p.eL)]})},e)}))]})]})})),m=function(e){var t=e.isOwner,s=e.goToEditMode,r=e.profile;return(0,A.jsxs)("div",{children:[t&&(0,A.jsx)("div",{children:(0,A.jsx)("button",{onClick:s,children:"Edit"})}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"Full name:"})," ",r.fullName]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"About me:"})," ",r.aboutMe]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"Looking for a job:"})," ",r.lookingForAJob?"yes":"no"]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"My professional skills:"})," ",r.lookingForAJobDescription]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"Contacts: "})," ",Object.keys(r.contacts).map((function(e){return(0,A.jsx)(v,{contactTitle:e,contactValue:r.contacts[e]},e)}))]})]})},v=function(e){var t=e.contactTitle,s=e.contactValue;return(0,A.jsxs)("div",{className:c.contact,children:[(0,A.jsx)("b",{children:t}),": ",s]})},g=function(e){var t=e.profile,s=e.savePhoto,r=e.isOwner,o=e.updateStatus,i=e.status,n=e.saveProfile,a=(0,l.useState)(!1),p=(0,u.Z)(a,2),j=p[0],v=p[1];if(!t)return(0,A.jsx)(d.Z,{});return(0,A.jsx)("div",{children:(0,A.jsxs)("div",{className:c.item,children:[(0,A.jsx)("img",{src:t.photos.large||f,className:c.mainPhoto}),(0,A.jsx)("div",{children:r&&(0,A.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&s(e.target.files[0])}})}),j?(0,A.jsx)(x,{initialValues:t,profile:t,onSubmit:function(e){n(e).then((function(){v(!1)}))}}):(0,A.jsx)(m,{goToEditMode:function(){v(!0)},profile:t,isOwner:r}),(0,A.jsx)(h,{status:i,updateStatus:o})]})})},k=s(81),b={},P="Post_post__yCyck",E=function(e){return(0,A.jsxs)("div",{className:P,children:[(0,A.jsx)("img",{src:"https://academiait.ru/wp-content/uploads/2017/06/765-4-650x388.jpg"}),e.message,(0,A.jsxs)("div",{children:[(0,A.jsx)("img",{itemID:"like",src:"data:image/png;base64,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"}),(0,A.jsx)("span",{children:e.likesCount})]})]})},S=s(6139),I=s(8661),T=l.memo((function(e){var t=e.profilePage,s=t.posts.map((function(e){return(0,A.jsx)(E,{message:e.message,likesCount:e.likesCount+" likes"},e.id)}));t.newPostText;return(0,A.jsxs)("div",{className:b.postBlock,children:[(0,A.jsx)("h3",{children:"My posts"}),(0,A.jsx)(y,{onSubmit:function(t){e.addPost(t.newPostText)}}),(0,A.jsx)("div",{className:b.posts,children:s})]})})),Z=(0,I.D)(10),y=(0,j.Z)({form:"ProfileAddPostForm"})((function(e){return(0,A.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,A.jsx)("div",{children:(0,A.jsx)(S.Z,{component:p.eL,name:"newPostText",placeholder:"Input text",validate:[I.C,Z]})}),(0,A.jsx)("div",{children:(0,A.jsx)("button",{children:"Add post"})})]})})),C=T,F=s(8687),O=(0,F.$j)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){e((0,k.Wl)(t))}}}))(C),w=function(e){return(0,A.jsxs)("div",{children:[(0,A.jsx)(g,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),(0,A.jsx)(O,{})]})},U=s(7689),G=s(7781),M=s(1487);var N=function(e){(0,i.Z)(s,e);var t=(0,n.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,o.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.router.params.userId;e||(e=this.props.authorizedUserId),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.router.params.userId!=e.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,A.jsx)(w,(0,a.Z)((0,a.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),s}(l.Component),B=(0,G.qC)((0,F.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:k.et,getStatus:k.lR,updateStatus:k.Nf,savePhoto:k.Ju,saveProfile:k.Ii}),(function(e){return function(t){var s=(0,U.TH)(),r=(0,U.s0)(),o=(0,U.UO)();return(0,A.jsx)(e,(0,a.Z)((0,a.Z)({},t),{},{router:{location:s,navigate:r,params:o}}))}}),M.D)(N)}}]);
//# sourceMappingURL=515.9748d814.chunk.js.map